id: social-calendar
name: Social Media Calendar Pipeline
description: "Generate a multi-day content calendar with platform-specific posts"
version: "2.0"

trigger:
  type: command
  pattern: "social.*calendar|content.*calendar|plan.*posts|schedule.*content"

inputs:
  - name: brand_profile
    type: reference
    description: "Brand profile for tone, audience, and platforms"
    default: active_brand
  - name: days
    type: integer
    description: "Number of days to plan"
    default: 7
  - name: themes
    type: array
    description: "Content themes/pillars"
    default: []
  - name: platforms
    type: array
    description: "Target platforms"
    default: [twitter, linkedin, instagram]
  - name: posts_per_day
    type: integer
    description: "Posts per platform per day"
    default: 1

steps:
  - id: generate
    skill: social-calendar
    modelTier: complex
    action: >
      Generate a complete multi-day content calendar with individual
      post entries. Each entry includes: date, time, platform, content,
      hashtags, visual direction, and content type.
    inputs:
      days: "${inputs.days}"
      themes: "${inputs.themes}"
      platforms: "${inputs.platforms}"
      posts_per_day: "${inputs.posts_per_day}"
      brand_profile: "${inputs.brand_profile}"
    retry:
      max: 2
      backoff: exponential
    output: calendar

outputs:
  - format: calendar_json
    includes:
      - posts_by_date
      - platform_breakdown
      - hashtag_sets
      - strategy_summary
