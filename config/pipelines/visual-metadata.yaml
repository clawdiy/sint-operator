id: visual-metadata
name: Visual Metadata Pipeline
description: "Analyze visual content â†’ generate SEO and accessibility metadata"
version: "3.0"

trigger:
  type: command
  pattern: "metadata|alt.*text|tag.*images|describe.*images"

inputs:
  - name: content_description
    type: string
    description: "Description of the visual content to generate metadata for"
    required: true
  - name: brand_profile
    type: reference
    description: "Brand context for terminology and tone"
    default: active_brand
  - name: platforms
    type: array
    description: "Target platforms for metadata optimization"
    default: [website, instagram, twitter, linkedin]

steps:
  - id: analyze_and_tag
    skill: content-analyzer
    modelTier: routine
    action: >
      Analyze the visual content description and generate comprehensive
      SEO and accessibility metadata: alt text (WCAG compliant),
      title tags, captions, long descriptions, relevant keywords/tags,
      OpenGraph descriptions, Twitter Card descriptions, and
      platform-specific hashtag suggestions.
    inputs:
      content: "${inputs.content_description}"
      brand_profile: "${inputs.brand_profile}"
      platforms: "${inputs.platforms}"
    retry:
      max: 2
      backoff: exponential
    output: metadata

outputs:
  - format: metadata_export
    includes:
      - alt_texts
      - title_tags
      - captions
      - keyword_tags
      - opengraph_descriptions
      - platform_hashtags
